totalMovieBoxData = [{ "movie1": "Cinderella", "date1": "1950-02-15", "value1": 10000000 }, { "movie1": "Peter Pan", "date1": "1953-02-05", "value1": 40759520 }, { "movie1": "Lady and the Tramp", "date1": "1955-06-16", "value1": 36359037 }, { "movie1": "Sleeping Beauty", "date1": "1959-01-29", "value1": 36479805 }, { "movie1": "One Hundred and One Dalmatians", "date1": "1961-01-25", "value1": 85000000 }, { "movie1": "The Sword in the Stone", "date1": "1963-12-25", "value1": 12000000 }, { "movie1": "The Jungle Book", "date1": "1967-10-18", "value1": 137741048 }, { "movie1": "The AristoCats", "date1": "1970-12-11", "value1": 18000000 }, { "movie1": "The Rescuers", "date1": "1977-06-19", "value1": 29000000 }, { "movie1": "The Fox and the Hound", "date1": "1981-07-10", "value1": 39900000 }, { "movie1": "The Black Cauldron", "date1": "1985-07-24", "value1": 21288692 }, { "movie1": "The Great Mouse Detective", "date1": "1986-06-23", "value1": 25336794 }, { "movie1": "Oliver & Company", "date1": "1988-11-13", "value1": 53279055 }, { "movie1": "The Little Mermaid", "date1": "1989-11-13", "value1": 184155863 }, { "movie1": "The Rescuers Down Under", "date1": "1990-11-16", "value1": 27931461 }, { "movie1": "Beauty and the Beast", "date1": "1991-09-29", "value1": 331907151, "movie2": "Beauty and the Beast" }, { "movie1": "Aladdin", "date1": "1992-11-08", "value1": 504050219, "movie2": "Aladdin" }, { "movie1": "The Lion King", "date1": "1994-12-08", "value1": 968511805, "movie2": "The Lion King" }, { "movie1": "Pocahontas", "date1": "1995-06-15", "value1": 346079773, "movie2": "Pocahontas" }, { "movie1": "The Hunchback of Notre Dame", "date1": "1996-06-19", "value1": 325338851, "movie2": "The Hunchback of Notre Dame" }, { "movie1": "Hercules", "date1": "1997-06-13", "value1": 252712101 }, { "movie1": "Mulan", "date1": "1998-06-05", "value1": 304320254 }, { "movie1": "Tarzan", "date1": "1999-06-12", "value1": 448191819, "movie2": "Tarzan" }, { "movie1": "Fantasia 2000", "date1": "1999-12-17", "value1": 90874570 }, { "movie1": "Dinosaur", "date1": "2000-05-13", "value1": 349822765, "movie2": "Dinosaur" }, { "movie1": "The Emperor's New Groove", "date1": "2000-12-10", "value1": 169327687 }, { "movie1": "Atlantis: The Lost Empire", "date1": "2001-06-02", "value1": 186053725 }, { "movie1": "Lilo & Stitch", "date1": "2002-06-16", "value1": 273144151 }, { "movie1": "Treasure Planet", "date1": "2002-11-05", "value1": 109578115 }, { "movie1": "Brother Bear", "date1": "2003-10-20", "value1": 250397798 }, { "movie1": "Home on the Range", "date1": "2004-03-21", "value1": 103951461 }, { "movie1": "Chicken Little", "date1": "2005-10-30", "value1": 314432837 }, { "movie1": "Meet the Robinsons", "date1": "2007-03-23", "value1": 169333034 }, { "movie1": "Bolt", "date1": "2008-11-17", "value1": 309979994 }, { "movie1": "The Princess and the Frog", "date1": "2009-11-25", "value1": 267045765 }, { "movie1": "Tangled", "date1": "2010-11-24", "value1": 591794936, "movie2": "Tangled" }, { "movie1": "Wreck-It Ralph", "date1": "2012-11-01", "value1": 471222889, "movie2": "Wreck-It Ralph" }, { "movie1": "Frozen", "date1": "2013-11-10", "value1": 1274219009, "movie2": "Frozen" }, { "movie1": "Big Hero 6", "date1": "2014-10-23", "value1": 657827828, "movie2": "Big Hero 6" }, { "movie1": "Zootopia", "date1": "2016-02-11", "value1": 1023784195, "movie2": "Zootopia" }, { "movie1": "Moana", "date1": "2016-11-14", "value1": 643331111, "movie2": "Moana" }, { "movie1": "Ralph Breaks the Internet", "date1": "2018-11-05", "value1": 529323962, "movie2": "Ralph Breaks the Internet" }, { "movie1": "Frozen II", "date1": "2019-11-07", "value1": 756140237, "movie2": "Frozen II" }];

comparsionData = [{ "year2": "1995", "rating2": 6.7, "international_earnings2": 204500000.0, "domestic_earnings2": 141579773.0, "worldwide_earnings2": 346079773.0 }, { "year2": "1996", "rating2": 6.9, "international_earnings2": 225200000.0, "domestic_earnings2": 100138851.0, "worldwide_earnings2": 325338851.0 }, { "year2": "1997", "rating2": 7.3, "international_earnings2": 153600000.0, "domestic_earnings2": 99112101.0, "worldwide_earnings2": 252712101.0 }, { "year2": "1998", "rating2": 7.6, "international_earnings2": 183700000.0, "domestic_earnings2": 120620254.0, "worldwide_earnings2": 304320254.0 }, { "year2": "1999", "rating2": 7.25, "international_earnings2": 153659575.0, "domestic_earnings2": 115873619.5, "worldwide_earnings2": 269533194.5 }, { "year2": "2000", "rating2": 6.9, "international_earnings2": 146049851.0, "domestic_earnings2": 113525375.0, "worldwide_earnings2": 259575226.0 }, { "year2": "2001", "rating2": 6.9, "international_earnings2": 101997253.0, "domestic_earnings2": 84056472.0, "worldwide_earnings2": 186053725.0 }, { "year2": "2002", "rating2": 7.2, "international_earnings2": 99375572.5, "domestic_earnings2": 91985560.5, "worldwide_earnings2": 191361133.0 }, { "year2": "2003", "rating2": 6.8, "international_earnings2": 165061521.0, "domestic_earnings2": 85336277.0, "worldwide_earnings2": 250397798.0 }, { "year2": "2004", "rating2": 5.3, "international_earnings2": 53921000.0, "domestic_earnings2": 50030461.0, "worldwide_earnings2": 103951461.0 }, { "year2": "2005", "rating2": 5.7, "international_earnings2": 179046172.0, "domestic_earnings2": 135386665.0, "worldwide_earnings2": 314432837.0 }, { "year2": "2007", "rating2": 6.8, "international_earnings2": 71510863.0, "domestic_earnings2": 97822171.0, "worldwide_earnings2": 169333034.0 }, { "year2": "2008", "rating2": 6.8, "international_earnings2": 195926415.0, "domestic_earnings2": 114053579.0, "worldwide_earnings2": 309979994.0 }, { "year2": "2009", "rating2": 7.1, "international_earnings2": 162644866.0, "domestic_earnings2": 104400899.0, "worldwide_earnings2": 267045765.0 }, { "year2": "2010", "rating2": 7.7, "international_earnings2": 390973000.0, "domestic_earnings2": 200821936.0, "worldwide_earnings2": 591794936.0 }, { "year2": "2012", "rating2": 7.7, "international_earnings2": 281800000.0, "domestic_earnings2": 189422889.0, "worldwide_earnings2": 471222889.0 }, { "year2": "2013", "rating2": 7.5, "international_earnings2": 873481000.0, "domestic_earnings2": 400738009.0, "worldwide_earnings2": 1274219009.0 }, { "year2": "2014", "rating2": 7.8, "international_earnings2": 435300000.0, "domestic_earnings2": 222527828.0, "worldwide_earnings2": 657827828.0 }, { "year2": "2016", "rating2": 7.8, "international_earnings2": 538545007.0, "domestic_earnings2": 295012646.0, "worldwide_earnings2": 833557653.0 }, { "year2": "2018", "rating2": 7.1, "international_earnings2": 328232251.0, "domestic_earnings2": 201091711.0, "worldwide_earnings2": 529323962.0 }, { "year2": "2019", "rating2": 7.3, "international_earnings2": 453215336.0, "domestic_earnings2": 302924901.0, "worldwide_earnings2": 756140237.0 },
{ "year1": "1995", "rating1": 8.3, "international_earnings1": 181757800.0, "domestic_earnings1": 191796233.0, "worldwide_earnings1": 373554033.0 }, { "year1": "1998", "rating1": 7.2, "international_earnings1": 200460294.0, "domestic_earnings1": 162798565.0, "worldwide_earnings1": 363258859.0 }, { "year1": "1999", "rating1": 7.9, "international_earnings1": 251514690.0, "domestic_earnings1": 245852179.0, "worldwide_earnings1": 497366869.0 }, { "year1": "2001", "rating1": 8.0, "international_earnings1": 272900000.0, "domestic_earnings1": 255873250.0, "worldwide_earnings1": 528773250.0 }, { "year1": "2003", "rating1": 8.1, "international_earnings1": 531300000.0, "domestic_earnings1": 339714978.0, "worldwide_earnings1": 871014978.0 }, { "year1": "2004", "rating1": 8.0, "international_earnings1": 370001000.0, "domestic_earnings1": 261441092.0, "worldwide_earnings1": 631442092.0 }, { "year1": "2006", "rating1": 7.1, "international_earnings1": 217900167.0, "domestic_earnings1": 244082982.0, "worldwide_earnings1": 461983149.0 }, { "year1": "2007", "rating1": 8.0, "international_earnings1": 417277164.0, "domestic_earnings1": 206445654.0, "worldwide_earnings1": 623722818.0 }, { "year1": "2008", "rating1": 8.4, "international_earnings1": 297503696.0, "domestic_earnings1": 223808164.0, "worldwide_earnings1": 521311860.0 }, { "year1": "2009", "rating1": 8.2, "international_earnings1": 442094918.0, "domestic_earnings1": 293004164.0, "worldwide_earnings1": 735099082.0 }, { "year1": "2010", "rating1": 8.3, "international_earnings1": 651964823.0, "domestic_earnings1": 415004880.0, "worldwide_earnings1": 1066969703.0 }, { "year1": "2011", "rating1": 6.1, "international_earnings1": 368400000.0, "domestic_earnings1": 191452396.0, "worldwide_earnings1": 559852396.0 }, { "year1": "2012", "rating1": 7.1, "international_earnings1": 301700000.0, "domestic_earnings1": 237283207.0, "worldwide_earnings1": 538983207.0 }, { "year1": "2013", "rating1": 7.3, "international_earnings1": 475066843.0, "domestic_earnings1": 268492764.0, "worldwide_earnings1": 743559607.0 }, { "year1": "2015", "rating1": 7.449999999999999, "international_earnings1": 355135007.0, "domestic_earnings1": 239774415.5, "worldwide_earnings1": 594909422.5 }, { "year1": "2016", "rating1": 7.3, "international_earnings1": 542275328.0, "domestic_earnings1": 486295561.0, "worldwide_earnings1": 1028570889.0 }, { "year1": "2017", "rating1": 7.550000000000001, "international_earnings1": 414192861.0, "domestic_earnings1": 181313565.0, "worldwide_earnings1": 595506426.0 }, { "year1": "2018", "rating1": 7.7, "international_earnings1": 634223615.0, "domestic_earnings1": 608581744.0, "worldwide_earnings1": 1242805359.0 }, { "year1": "2019", "rating1": 7.9, "international_earnings1": 639356585.0, "domestic_earnings1": 434038008.0, "worldwide_earnings1": 1073394593.0 }];

disneyMovie90 = [{ 'count': 7, 'tag': 'Adventure' },
{ 'count': 1, 'tag': 'Crime' },
{ 'count': 3, 'tag': 'Drama' },
{ 'count': 10, 'tag': 'Family' },
{ 'count': 6, 'tag': 'Fantasy' },
{ 'count': 1, 'tag': 'Mystery' },
{ 'count': 6, 'tag': 'Musical' },
{ 'count': 6, 'tag': 'Romance' },
{ 'count': 3, 'tag': 'Comedy' },
{ 'count': 1, 'tag': 'Action' },
{ 'count': 1, 'tag': 'War' },
{ 'count': 1, 'tag': 'Music' }];

disneyMovie10 = [{ 'count': 8, 'tag': 'Adventure' },
{ 'count': 7, 'tag': 'Comedy' },
{ 'count': 8, 'tag': 'Family' },
{ 'count': 6, 'tag': 'Fantasy' },
{ 'count': 4, 'tag': 'Musical' },
{ 'count': 1, 'tag': 'Romance' },
{ 'count': 1, 'tag': 'Action' },
{ 'count': 1, 'tag': 'Sci-fi' },
{ 'count': 1, 'tag': 'Crime' },
{ 'count': 1, 'tag': 'Mystery' }];

disneyMovie00 = [{ 'count': 11, 'tag': 'Adventure' },
{ 'count': 11, 'tag': 'Family' },
{ 'count': 1, 'tag': 'Thriller' },
{ 'count': 8, 'tag': 'Comedy' },
{ 'count': 6, 'tag': 'Fantasy' },
{ 'count': 1, 'tag': 'Action' },
{ 'count': 5, 'tag': 'Sci-fi' },
{ 'count': 2, 'tag': 'Drama' },
{ 'count': 1, 'tag': 'Music' },
{ 'count': 1, 'tag': 'Western' },
{ 'count': 1, 'tag': 'Musical' },
{ 'count': 1, 'tag': 'Romance' }];

domestic_average = {'1990': [{'sector': 'Pixar Domestic Earnings Average',
   'size': 191796233},
  {'sector': 'Disney Domestic Earnings Average', 'size': 927577132}],
 '1995': [{'sector': 'Pixar Domestic Earnings Average',
   'size': 408650744},
  {'sector': 'Disney Domestic Earnings Average', 'size': 778669195}],
 '2000': [{'sector': 'Pixar Domestic Earnings Average',
   'size': 857029320},
  {'sector': 'Disney Domestic Earnings Average', 'size': 538780996}],
 '2005': [{'sector': 'Pixar Domestic Earnings Average',
   'size': 1382345844},
  {'sector': 'Disney Domestic Earnings Average', 'size': 517098585}],
 '2010': [{'sector': 'Pixar Domestic Earnings Average',
   'size': 1176777198},
  {'sector': 'Disney Domestic Earnings Average', 'size': 812688726}],
 '2015': [{'sector': 'Pixar Domestic Earnings Average',
   'size': 1891542443},
  {'sector': 'Disney Domestic Earnings Average', 'size': 1094041904}]};

international_average = {'1990': [{'sector': 'Pixar International Earnings Average',
   'size': 181757800},
  {'sector': 'Disney International Earnings Average', 'size': 1222971816}],
 '1995': [{'sector': 'Pixar International Earnings Average',
   'size': 451974984},
  {'sector': 'Disney International Earnings Average', 'size': 1161918852}],
 '2000': [{'sector': 'Pixar International Earnings Average',
   'size': 1174201000},
  {'sector': 'Disney International Earnings Average', 'size': 698777091}],
 '2005': [{'sector': 'Pixar International Earnings Average',
   'size': 2026740768},
  {'sector': 'Disney International Earnings Average', 'size': 821055144}],
 '2010': [{'sector': 'Pixar International Earnings Average',
   'size': 1855436857},
  {'sector': 'Disney International Earnings Average', 'size': 1590581000}],
 '2015': [{'sector': 'Pixar International Earnings Average',
   'size': 2644241250},
  {'sector': 'Disney International Earnings Average', 'size': 1858537601}]};

// When the user scrolls the page, execute myFunction
window.onscroll = function () { myFunction() };

function myFunction() {
    var winScroll = document.body.scrollTop || document.documentElement.scrollTop;
    var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
    var scrolled = (winScroll / height) * 100;
    document.getElementById("myBar").style.width = scrolled + "%";
};
// document.addEventListener('')

// var lineChartContent = 'sda'
function showFocus() {
    var button = document.getElementById('focuser');
    if (button.innerText == 'Focus') {
        dateAxis.start = 0.55;
        dateAxis.end = 1;
        button.innerText = 'Show';
    } else {
        dateAxis.start = 0;
        dateAxis.end = 1;
        button.innerText = 'Focus';
    }
    // button.
}

function addPixar() {
    var button = document.getElementById('adder');
    if (button.innerText == 'Add Pixar') {
        button.innerText = 'Added';

        series2 = chart2.series.push(new am4charts.LineSeries());
        series2.name = "Pixar Animation Studio"; //disney,pixar colors are inversed because of incorrect labels
        series2.dataFields.dateX = "year1";
        series2.dataFields.valueY = "worldwide_earnings1";
        series2.tooltipText = "Average Worldwide Earnings: {worldwide_earnings1}";
        series2.fill = am4core.color("#FF0000");
        series2.stroke = am4core.color("#FF0000");
        series2.strokeWidth = 2;

        series2.tooltip.background.cornerRadius = 20;
        series2.tooltip.background.strokeOpacity = 0;
        series2.tooltip.pointerOrientation = "vertical";
        series2.tooltip.label.minWidth = 40;
        series2.tooltip.label.minHeight = 40;
        series2.tooltip.label.textAlign = "middle";
        series2.tooltip.label.textValign = "middle";
        series2.stroke = am4core.color("#FF0000");
    } else {
        // button.innerText = 'Focus';
    }
}

function addBackground(node) {
    var body = document.getElementById('bodyBackground');
    console.log(body);
    body.style.backgroundImage = `url(${node})`;
    body.style.backgroundPosition = 'fixed';
    body.style.backgroundRepeat = 'no-repeat';
    body.style.backgroundPosition = 'center top';
    body.style.backgroundSize = 'cover';
    body.style.width = '100%';
    body.style.width = '100%';
    body.style.margin = 0;
}

$(".timeline-wrapper .timeline-content-item > span").on("mouseenter mouseleave", function (e) {
    $(".timeline-wrapper .timeline-content-item.active").removeClass("active");
    $(this).parent().addClass("active");
});


$(".timeline-content-item-reveal").on("mouseenter mouseleave", function (e) {
    path = this.getElementsByTagName('img')[0].getAttribute('src');
    console.log(path);
    addBackground(path);
});



document.addEventListener('DOMContentLoaded', function () {
    // const lineChartDataPath =  'assets/total_movie_box.json';
    // fetchJSONFile(lineChartDataPath);
    am4core.ready(function () {

        // Themes begin
        am4core.useTheme(am4themes_animated);
        // Themes end

        // Create chart instance
        var chart = am4core.create("lineChartDiv", am4charts.XYChart);

        // Add data
        chart.data = totalMovieBoxData;

        // Set input format for the dates
        chart.dateFormatter.inputDateFormat = "yyyy-MM-dd";
        chart.numberFormatter.numberFormat = "#.00 a($)";

        // Create axes
        dateAxis = chart.xAxes.push(new am4charts.DateAxis());

        var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());

        // Create series
        var series = chart.series.push(new am4charts.LineSeries());
        series.dataFields.valueY = "value1";
        series.dataFields.dateX = "date1";
        series.tooltipText = "Movie: {movie1} \n Release Date: {date1} \n Worldwide Earnings :{value1} ";

        series.strokeWidth = 2;
        series.minBulletDistance = 15;

        // Drop-shaped tooltips
        series.tooltip.background.cornerRadius = 20;
        series.tooltip.background.opacity = 0.5;
        series.tooltip.background.strokeOpacity = 0;
        series.tooltip.pointerOrientation = "vertical";
        series.tooltip.label.minWidth = 40;
        series.tooltip.label.minHeight = 40;
        series.tooltip.label.textAlign = "middle";
        series.tooltip.label.textValign = "middle";
        series.stroke = am4core.color("#00BFFF");


        // Make bullets grow on hover
        var bullet = series.bullets.push(new am4charts.CircleBullet());
        bullet.circle.strokeWidth = 2;
        bullet.circle.fillOpacity = 0.9;
        bullet.adapter.add("fill", function (fill, target) {
            if (target.dataItem.valueY >= 325338851) {
                return am4core.color("#FF0000");
            }
            return fill;
        })
        bullet.circle.radius = 5;
        bullet.circle.stroke = am4core.color("#00BFFF");
        bullet.fill = "#fff";
        console.log(bullet.circle);

        var bullethover = bullet.states.create("hover");
        bullethover.properties.scale = 1.3;

        // Make a panning cursor
        chart.cursor = new am4charts.XYCursor();
        chart.cursor.behavior = "panXY";
        chart.cursor.xAxis = dateAxis;
        chart.cursor.snapToSeries = series;

        // Create vertical scrollbar and place it before the value axis
        chart.scrollbarY = new am4core.Scrollbar();
        chart.scrollbarY.parent = chart.leftAxesContainer;
        chart.scrollbarY.toBack();

        // Create a horizontal scrollbar with previe and place it underneath the date axis
        chart.scrollbarX = new am4charts.XYChartScrollbar();
        chart.scrollbarX.series.push(series);
        chart.scrollbarX.parent = chart.bottomAxesContainer;

        dateAxis.start = 0;
        dateAxis.end = 1;
        dateAxis.keepSelection = true;

        valueAxis.cursorTooltipEnabled = false;
        dateAxis.cursorTooltipEnabled = false;

        chart.cursor.lineY.disabled = true;

        valueAxis.title.text = "Worldwide Earnings($)";
        valueAxis.title.fontWeight = "bold";
        dateAxis.title.text = "Year";
        dateAxis.title.fontWeight = "bold";
    }); // end am4core.ready()

    am4core.ready(function () {

        // Themes begin
        am4core.useTheme(am4themes_animated);
        // Themes end

        // Create chart
        chart2 = am4core.create("lineChartDiv2", am4charts.XYChart);

        chart2.dateFormatter.inputDateFormat = "yyyy";
        chart2.numberFormatter.numberFormat = "#.00 a($)";
        chart2.data = comparsionData;

        var dateAxis = chart2.xAxes.push(new am4charts.DateAxis());
        dateAxis.renderer.grid.template.location = 0;
        dateAxis.renderer.labels.template.fill = am4core.color("black");

        var valueAxis = chart2.yAxes.push(new am4charts.ValueAxis());
        valueAxis.tooltip.disabled = false;
        valueAxis.renderer.labels.template.fill = am4core.color("#black"); //used to hide
        valueAxis.renderer.minWidth = 60;

        var series = chart2.series.push(new am4charts.LineSeries());
        series.name = "Disney Animation Studio"; //disney,pixar colors are inversed because of incorrect labels
        series.dataFields.dateX = "year2";
        series.dataFields.valueY = "worldwide_earnings2";
        series.tooltipText = "Average Worldwide Earnings: {worldwide_earnings2}";
        series.fill = am4core.color("#00BFFF"); //FF0000
        series.stroke = am4core.color("#00BFFF");
        series.strokeWidth = 2;

        series.tooltip.background.cornerRadius = 20;
        series.tooltip.background.strokeOpacity = 0;
        series.tooltip.pointerOrientation = "vertical";
        series.tooltip.label.minWidth = 40;
        series.tooltip.label.minHeight = 40;
        series.tooltip.label.textAlign = "middle";
        series.tooltip.label.textValign = "middle";
        series.stroke = am4core.color("#00BFFF");

        chart2.cursor = new am4charts.XYCursor();
        chart2.cursor.behavior = "panXY"
        chart2.cursor.xAxis = dateAxis;

        chart2.legend = new am4charts.Legend();
        chart2.legend.parent = chart2.plotContainer;
        chart2.legend.zIndex = 100;

        dateAxis.renderer.grid.template.strokeOpacity = 0.07;
        valueAxis.renderer.grid.template.strokeOpacity = 0.07;

        valueAxis.cursorTooltipEnabled = false;
        dateAxis.cursorTooltipEnabled = true;
        chart2.cursor.lineY.disabled = true;
        chart2.cursor.lineX.disabled = false;

        valueAxis.title.text = 'Average Worldwide Earnings($)';
        valueAxis.title.fontSize = 13;
        valueAxis.title.fontWeight = 800;
        dateAxis.title.text = 'Year';
        dateAxis.title.fontSize = 13;
        dateAxis.title.fontWeight = 800;
    }); // end am4core.ready()

    am4core.ready(function () {

        // Themes begin
        am4core.useTheme(am4themes_animated);
        // Themes end

        // Create chart
        var chart3 = am4core.create("lineChartDiv3", am4charts.XYChart);

        chart3.dateFormatter.inputDateFormat = "yyyy";
        chart3.numberFormatter.numberFormat = "#.0";
        chart3.data = comparsionData;

        var dateAxis = chart3.xAxes.push(new am4charts.DateAxis());
        dateAxis.renderer.grid.template.location = 0;
        dateAxis.renderer.labels.template.fill = am4core.color("black");

        var valueAxis = chart3.yAxes.push(new am4charts.ValueAxis());
        valueAxis.tooltip.disabled = false;
        valueAxis.renderer.labels.template.fill = am4core.color("#black"); //used to hide
        valueAxis.renderer.minWidth = 60;

        var series = chart3.series.push(new am4charts.LineSeries());
        series.name = "Disney Animation Studio"; //disney,pixar colors are inversed because of incorrect labels
        series.dataFields.dateX = "year2";
        series.dataFields.valueY = "rating2";
        series.tooltipText = "Average Ratings: {rating2}";
        series.fill = am4core.color("#00BFFF"); //FF0000
        series.stroke = am4core.color("#00BFFF");
        series.strokeWidth = 2;

        series.tooltip.background.cornerRadius = 20;
        series.tooltip.background.strokeOpacity = 0;
        series.tooltip.pointerOrientation = "vertical";
        series.tooltip.label.minWidth = 40;
        series.tooltip.label.minHeight = 40;
        series.tooltip.label.textAlign = "middle";
        series.tooltip.label.textValign = "middle";
        series.stroke = am4core.color("#00BFFF");

        series3 = chart3.series.push(new am4charts.LineSeries());
        series3.name = "Pixar Animation Studio"; //disney,pixar colors are inversed because of incorrect labels
        series3.dataFields.dateX = "year1";
        series3.dataFields.valueY = "rating1";
        series3.tooltipText = "Average Ratings: {rating1}";
        series3.fill = am4core.color("#FF0000");
        series3.stroke = am4core.color("#FF0000");
        series3.strokeWidth = 2;

        series3.tooltip.background.cornerRadius = 20;
        series3.tooltip.background.strokeOpacity = 0;
        series3.tooltip.pointerOrientation = "vertical";
        series3.tooltip.label.minWidth = 40;
        series3.tooltip.label.minHeight = 40;
        series3.tooltip.label.textAlign = "middle";
        series3.tooltip.label.textValign = "middle";
        series3.stroke = am4core.color("#FF0000");

        chart3.cursor = new am4charts.XYCursor();
        chart3.cursor.behavior = "panXY"
        chart3.cursor.xAxis = dateAxis;

        chart3.legend = new am4charts.Legend();
        chart3.legend.valign = 'bottom';
        chart3.legend.parent = chart3.plotContainer;
        chart3.legend.zIndex = 100;

        valueAxis.cursorTooltipEnabled = false;
        dateAxis.cursorTooltipEnabled = true;
        chart3.cursor.lineY.disabled = true;
        chart3.cursor.lineX.disabled = false;

        valueAxis.title.text = 'Average Rating';
        valueAxis.title.fontSize = 13;
        valueAxis.title.fontWeight = 800;
        dateAxis.title.text = 'Year';
        dateAxis.title.fontSize = 13;
        dateAxis.title.fontWeight = 800;
    }); // end am4core.ready()


    am4core.ready(function () {

        am4core.useTheme(am4themes_animated);
        var chart = am4core.create("wordCloudDiv1", am4plugins_wordCloud.WordCloud);

        chart.data = disneyMovie90;

        var series = chart.series.push(new am4plugins_wordCloud.WordCloudSeries());

        series.dataFields.word = "tag";
        series.dataFields.value = "count";

        series.heatRules.push({
            "target": series.labels.template,
            "property": "fill",
            "min": am4core.color("#00BFFF"),
            "max": am4core.color("#000080"),
            "dataField": "value"
        });

        var hoverState = series.labels.template.states.create("hover");
        series.labels.template.tooltipText = "{word}: {value}";

        var title = chart.titles.create();
        title.text = "Disney Movies Genre Counts in 1990's";
        title.fontSize = 17;
        title.fontWeight = "800";
    });

    am4core.ready(function () {

        am4core.useTheme(am4themes_animated);
        var chart = am4core.create("wordCloudDiv2", am4plugins_wordCloud.WordCloud);

        chart.data = disneyMovie00;

        var series = chart.series.push(new am4plugins_wordCloud.WordCloudSeries());

        series.dataFields.word = "tag";
        series.dataFields.value = "count";

        series.heatRules.push({
            "target": series.labels.template,
            "property": "fill",
            "min": am4core.color("#00BFFF"),
            "max": am4core.color("#000080"),
            "dataField": "value"
        });

        var hoverState = series.labels.template.states.create("hover");
        series.labels.template.tooltipText = "{word}: {value}";

        var title = chart.titles.create();
        title.text = "Disney Movies Genre Counts in 2000's";
        title.fontSize = 17;
        title.fontWeight = "800";
    });

    am4core.ready(function () {

        am4core.useTheme(am4themes_animated);
        var chart = am4core.create("wordCloudDiv3", am4plugins_wordCloud.WordCloud);

        chart.data = disneyMovie10;

        var series = chart.series.push(new am4plugins_wordCloud.WordCloudSeries());

        series.dataFields.word = "tag";
        series.dataFields.value = "count";

        series.heatRules.push({
            "target": series.labels.template,
            "property": "fill",
            "min": am4core.color("#00BFFF"),
            "max": am4core.color("#000080"),
            "dataField": "value"
        });

        var hoverState = series.labels.template.states.create("hover");
        series.labels.template.tooltipText = "{word}: {value}";

        var title = chart.titles.create();
        title.text = "Disney Movies Genre Counts in 2010's";
        title.fontSize = 17;
        title.fontWeight = "800";
    });

    am4core.ready(function(){

        // Themes begin
        am4core.useTheme(am4themes_animated);
        // Themes end

        /**
         * Define data for each year
         */
        var chartData = international_average;

        // Create chart instance
        var chart = am4core.create("pieChartDiv1", am4charts.PieChart);

        // Add data
        chart.data = [
          {'sector': 'Pixar International Earnings Average', 'size': 181757800},
          {'sector': 'Disney International Earnings Average', 'size': 1222971816}]

        // Add title
        var title = chart.titles.create();
        title.text = 'Internationl Share between Pixar and Disney';
        title.fontSize = 16;
        title.fontWeight = 800;

        // Add label
        chart.innerRadius = 80;
        var label = chart.seriesContainer.createChild(am4core.Label);
        label.text = "1995";
        label.horizontalCenter = "middle";
        label.verticalCenter = "middle";
        label.fontSize = 15;

        // Add and configure Series
        var pieSeries = chart.series.push(new am4charts.PieSeries());
        pieSeries.tooltip.showTooltipOn = 'always';
        pieSeries.dataFields.value = "size";
        pieSeries.dataFields.category = "sector";
        pieSeries.colors.list = [am4core.color("#FF0000"), am4core.color("#00BFFF")];

        pieSeries.labels.template.disabled = true;

        chart.legend = new am4charts.Legend();
        chart.legend.valign = 'top';
        chart.legend.fontSize = 15;

        // Animate chart data
        var currentYear = 1995;
        var nextYear = currentYear + 5;
        function getCurrentData() {
          label.text = 'Year ' + currentYear + ' to Year ' + nextYear;
          var data = chartData[currentYear];
          currentYear+=5;
          nextYear += 5;
          if (currentYear > 2019)
            currentYear = 1995;
            nextYear = currentYear + 5;
          return data;
        }

        function loop() {
          //chart.allLabels[0].text = currentYear;
          var data = getCurrentData();
          for(var i = 0; i < data.length; i++) {
            chart.data[i].size = data[i].size;
          }
          chart.invalidateRawData();
          chart.setTimeout(loop, 4000);
        }

        loop();
      });

    am4core.ready(function(){

          // Themes begin
          am4core.useTheme(am4themes_animated);
          // Themes end

          /**
           * Define data for each year
           */
          var chartData = domestic_average;

          // Create chart instance
          var chart = am4core.create("pieChartDiv2", am4charts.PieChart);

          // Add data
          chart.data = [{'sector': 'Pixar Domestic Earnings Average',
             'size': 191796233},
            {'sector': 'Disney Domestic Earnings Average', 'size': 927577132}]

          // Add title
          var title = chart.titles.create();
          title.text = 'Domestic Share between Pixar and Disney';
          title.fontSize = 16;
          title.fontWeight = 800;

          // Add label
          chart.innerRadius = 80;
          var label = chart.seriesContainer.createChild(am4core.Label);
          label.text = "1995";
          label.horizontalCenter = "middle";
          label.verticalCenter = "middle";
          label.fontSize = 15;

          // Add and configure Series
          var pieSeries = chart.series.push(new am4charts.PieSeries());
          pieSeries.tooltip.showTooltipOn = 'always';
          pieSeries.dataFields.value = "size";
          pieSeries.dataFields.category = "sector";
          pieSeries.colors.list = [am4core.color("#FF0000"), am4core.color("#00BFFF")];
          pieSeries.labels.template.disabled = true;

          chart.legend = new am4charts.Legend();
          chart.legend.valign = 'top';
          chart.legend.fontSize = 15;
          // Animate chart data
          var currentYear = 1995;
          var nextYear = currentYear + 5;
          function getCurrentData() {
            label.text = 'Year ' + currentYear + ' to Year ' + nextYear;
            var data = chartData[currentYear];
            currentYear+=5;
            nextYear += 5;
            if (currentYear > 2019)
              currentYear = 1995;
              nextYear = currentYear + 5;
            return data;
          }

          function loop() {
            //chart.allLabels[0].text = currentYear;
            var data = getCurrentData();
            for(var i = 0; i < data.length; i++) {
              chart.data[i].size = data[i].size;
            }
            chart.invalidateRawData();
            chart.setTimeout(loop, 4000);
          }

          loop();
      });
})
